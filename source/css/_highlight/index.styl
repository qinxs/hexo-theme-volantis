pre
  position: relative
.hljs
  margin: 0 - $gap !important
  padding: $gap !important
  -webkit-font-smoothing: auto
  -moz-osx-font-smoothing: auto
  scrollbar()
  if hexo-config('custom_css.body.highlight.language') == true
    &:before
      position: absolute
      top: 0
      right: 0
      color: var(--color-meta)
      font-size: 13px
      padding: 4px 8px
    &.md:before,&.markdown:before
      content: "md"
    &.yaml:before
      content: "Yaml"
    &.json:before
      content: "JSON"

    &.html:before
      content: "HTML"
    &.js:before,&.javascript:before
      content: "JavaScript"
    &.css:before
      content: "CSS"
    &.less:before
      content: "Less"
    &.stylus:before
      content: "Stylus"

    &.bat:before
      content: "Bat"
    &.bash:before
      content: "Bash"
    &.shell:before
      content: "Shell"
    &.sh:before
      content: "sh"
    &.ini:before
      content: "ini"

    &.c:before
      content: "C"
    &.cpp:before
      content: "C++"
    &.objc:before,&.objectivec:before
      content: "Objective-C"
    &.swift:before
      content: "Swift"

    &.java:before
      content: "Java"
    &.python:before
      content: "Python"
    &.php:before
      content: "PHP"
    &.rust:before
      content: "Rust"
    &.sql:before
      content: "SQL"
    &.ruby:before
      content: "Ruby"
    &.makefile:before
      content: "Makefile"
    &.go:before
      content: "Go"
    &.typescript:before
      content: "TypeScript"

.highlight
  position: relative
  width: 100%
  margin: $gap-p 0
  display: block
  background: var(--color-block)
  font-size: $fontsize-code
  font-family: $fontfamily-code
  border-radius: $border-codeblock
  // border: 1px solid transparent
  line-height: 1.5
  -webkit-font-smoothing: auto
  -moz-osx-font-smoothing: auto
  overflow: hidden
  trans()
  if hexo-config('custom_css.body.highlight.grayscale') == true
    filter: grayscale(100%)
  &:hover
    // background: var(--color-codeblock)
    if hexo-config('custom_css.body.highlight.grayscale') == true
      filter: grayscale(0%)
    figcaption
      trans()
      background: darken($color-codeblock, 5%)

  figcaption
    font-size: 13px
    position: sticky
    left: 0
    padding: $gap * 0.25 $gap * 0.5 $gap * 0.25 $gap * 0.5
    background: darken($color-block, 5%)
    border-top-left-radius: "calc(%s - 1px)" % $border-codeblock
    border-top-right-radius: "calc(%s - 1px)" % $border-codeblock

  >table
    overflow: auto
    display: block
    scrollbar-codeblock()
    td,th
      padding: 0
      border: none
      line-height: 1.5
    margin: 0
    background-color: transparent
    border: none
    tr
      background-color: transparent
      &:hover
        background-color: transparent


    .gutter
      disable-user-select()
      // padding: 0 6px
      text-align: right
      border-width: 0
      margin-left: 0
      position: sticky
      left: 0
      z-index: 1
      // background: darken($color-block, 5)
      pre
        color: var(--color-meta)
        border-right: 1px solid #4e4e53;
        padding: 0 7px 0 6px;
        border-radius: initial;


    pre
      background: transparent
      margin: 28px 0 0
      padding: 0
      border: none
      .code:before
        display: none

    .code
      padding: $gap
      vertical-align: top
      background-color: transparent
      &:before
        content: "Txt"
        position: absolute
        top: 0
        right: 0
        bottom: 100%
        left: 0
        padding-left: 1em
        height: 32px
        line-height: 32px
        color: var(--color-meta)
        background: #4e4e53
        font-weight: bold
        font-size: 13px

  if hexo-config('custom_css.body.highlight.language') == true
    &.md .code:before,&.markdown .code:before
      content: "md"
    &.yaml .code:before
      content: "Yaml"
    &.json .code:before
      content: "JSON"

    &.diff .code:before
      content: "diff"

    &.html .code:before
      content: "HTML"
    &.js .code:before,&.javascript .code:before
      content: "JavaScript"
    &.css .code:before
      content: "CSS"
    &.less .code:before
      content: "Less"
    &.stylus .code:before
      content: "Stylus"

    &.bat .code:before
      content: "Bat"
    &.bash .code:before
      content: "Bash"
    &.shell .code:before
      content: "Shell"
    &.sh .code:before
      content: "sh"
    &.ini .code:before
      content: "ini"

    &.c .code:before
      content: "C"
    &.cpp .code:before
      content: "C++"
    &.objc .code:before,&.objectivec .code:before
      content: "Objective-C"
    &.swift .code:before
      content: "Swift"

    &.java .code:before
      content: "Java"
    &.python .code:before
      content: "Python"
    &.php .code:before
      content: "PHP"
    &.rust .code:before
      content: "Rust"
    &.sql .code:before
      content: "SQL"
    &.ruby .code:before
      content: "Ruby"
    &.makefile .code:before
      content: "Makefile"
    &.go .code:before
      content: "Go"
    &.typescript .code:before
      content: "TypeScript"
